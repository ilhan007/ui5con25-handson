# Develop `ChatLoading` web component

In chat conversations, a short delay between messages is common ‚Äî especially when responses are generated by an assistant.
During this pause, a loading indicator reassures users that a reply is on the way.

That‚Äôs exactly what the `ChatLoading` (`<my-chat-loading>`) web component is for.

<img width="429" alt="Screenshot 2025-06-09 at 18 02 38" src="https://github.com/user-attachments/assets/ca6ab339-5be7-4c6f-a015-d2fc7094ff0f" />

<br>
<br>

## 1. Generate `ChatLoading` web component

Open second terminal window if needed (don't stop the running server) and use the `create-ui5-element` CLI command to scaffold the new component:

```sh
npm run create-ui5-element ChatLoading
```

This will generate the following files:

- `src/ChatLoading.ts` ‚Äì The TypeScript class that defines the component
- `src/ChatLoadingTemplate.tsx` ‚Äì The JSX-based template
- `src/ChatLoading.css` ‚Äì The styling for the component

<br>

## 2. Implement the `ChatLoading` Class

The ChatLoading component does not contain any logic‚Äîit simply wraps the `BusyIndicator` UI5 Web Component to provide a visual loading indicator.

Since it has no internal state or behavior, the implementation is minimal:

<br>

```ts
import UI5Element from "@ui5/webcomponents-base/dist/UI5Element.js";
import customElement from "@ui5/webcomponents-base/dist/decorators/customElement.js";
import jsxRenderer from "@ui5/webcomponents-base/dist/renderer/JsxRenderer.js";

import ChatLoadingTemplate from "./ChatLoadingTemplate.js";

@customElement({
	tag: "my-chat-loading",
	renderer: jsxRenderer,
	template: ChatLoadingTemplate,
})
class ChatLoading extends UI5Element {}

ChatLoading.define();

export default ChatLoading;
```

<br>

## 3. Update the `ChatLoadingTemplate.tsx`

We'll use the existing `BusyIndicator` UI5 Web Component to visually indicate the loading state.

Update `src/ChatLoadingTemplate.tsx` with the following:

```jsx
import type ChatLoading from "./ChatLoading.js";

import BusyIndicator from "@ui5/webcomponents/dist/BusyIndicator.js";

export default function ChatLoadingTemplate(this: ChatLoading) {
	return (
		<BusyIndicator active={true} delay={500} />
	);
}
```

üß† The `BusyIndicator` shows a loading animation after a short delay (delay={500}),
which helps avoid flickering during quick responses.

<br>

## 4. Test `ChatLoading` in the `test/index.html`

To try it out:

- Import the component in `src/bundle.esm.ts`:

 ```js
 import "./ChatLoading.js";
 ```

- Add it to the `test/index.html`:

 ```html
 <my-chat-loading></my-chat-loading>
 ```

You should now see the loading animation, represented by three animated dots:

<img src="./images/chatLoading.png" />

<br>

# Next

üéâ The ChatLoading component is ready!

Now it‚Äôs time to integrate it into the `Chat` component, so it appears while a response is being generated.

‚û°Ô∏è [Use ChatLaoding in the Chat](./7_Use_ChatLoading.md)
